(()=>{"use strict";var t,e=function(){function t(t,e){this.width=20,this.height=20,this.color="#FFF",this.xSpeed=1.25,this.ySpeed=1.25,this.x=t,this.y=e}return t.prototype.moveBall=function(t){(this.y>=t-this.height||this.y<=0)&&(this.ySpeed*=-1),this.y+=this.ySpeed,this.x+=this.xSpeed},t.prototype.getPosition=function(){return{x:this.x,y:this.y}},t}(),i=function(){function t(){this.canvas=document.getElementById("pongCanvas"),this.ctx=this.canvas.getContext("2d")}return t.prototype.createPlayer=function(t){return{x:t,y:this.canvas.height/2-60,width:20,height:120,color:"#FFF",speed:5}},t}(),h=function(){function t(t){this.scorePlayer1=0,this.scorePlayer2=0,this.gameStarted=!1,this.player1=new i,this.player2=new i,this.gameCanvas=t,this.ctx=this.gameCanvas.getContext("2d");var h=t.width/2,s=t.height/2;this.ball=new e(h,s),setInterval(this.gameLoop,1e3/60)}return t.prototype.gameLoop=function(){this.ball.moveBall(this.gameCanvas.height),this.ball.getPosition().x},t}(),s=document.getElementById("pongCanvas"),l=s.getContext("2d"),a=!1,n=new i,r=new i;function o(){!function(){y(0,0,s.width,s.height,"#000"),y(this.player1.x,this.player1.y,this.player1.width,this.player1.height,this.player1.color),y(this.player2.x-this.player2.width,this.player2.y,this.player2.width,this.player2.height,this.player2.color),y(this.ball.x,this.ball.y,this.ball.width,this.ball.height,this.ball.color)}(),function(){this.ball.x<=this.player1.x+this.player1.width&&this.ball.y>=this.player1.y&&this.ball.y<=this.player1.y+this.player1.height?(this.ball.xSpeed*=-1.3,this.ball.ySpeed*=1.3):this.ball.x+this.ball.width+10>=this.player2.x&&this.ball.y>=this.player2.y&&this.ball.y<=this.player2.y+this.player2.height&&(this.ball.xSpeed*=-1,this.ball.ySpeed*=1),this.ball.x,this.player1.width,this.ball.x,s.width,this.player2.width}()}function y(t,e,i,h,s){l.fillStyle=s,l.fillRect(t,e,i,h)}n.createPlayer(10),r.createPlayer(s.width-10),t=function(t){var e=document.createElement("h2");return e.innerHTML="press space to play!<br><br>controls: w + s / ↑ + ↓",e.style.position="absolute",e.style.top="6rem",e.style.color="#FFF",e.style.fontFamily="Monospace",e.style.textAlign="center",e}(),document.body.appendChild(t),setInterval((function(){t.style.visibility="hidden"===t.style.visibility?"visible":"hidden"}),500),o(),setInterval(o,1e3/60),window.addEventListener("keydown",(function(t){if("Space"!==t.code||a||(function(){var t=document.querySelector("h2");if(t){var e=t.parentNode;e&&e.removeChild(t)}}(),a=!0),a)switch(t.key){case"w":n.y>0&&(n.y-=n.speed);break;case"s":n.y<s.height-n.height&&(n.y+=n.speed);break;case"ArrowUp":r.y>0&&(r.y-=r.speed);break;case"ArrowDown":r.y<s.height-r.height&&(r.y+=r.speed)}}));var p,d=((p=document.createElement("canvas")).id="gameCanvas",p);document.body.appendChild(d),new h(d)})();