(()=>{"use strict";var t=function(){function t(t,e){this.width=20,this.height=20,this.color="#FFF",this.xSpeed=1.25,this.ySpeed=1.25,this.x=t,this.y=e}return t.prototype.createStartGameHeading=function(){},t.prototype.moveBall=function(t){(this.y>=t-this.height||this.y<=0)&&(this.ySpeed*=-1),this.y+=this.ySpeed,this.x+=this.xSpeed},t.prototype.getPosition=function(){return{x:this.x,y:this.y}},t.prototype.resetBall=function(t,e){return{x:e/2,y:t/2,xSpeed:1.25,ySpeed:1.25}},t}(),e=function(){function t(){this.canvas=document.getElementById("pongCanvas"),this.ctx=this.canvas.getContext("2d")}return t.prototype.createPlayer=function(t){return{x:t,y:this.canvas.height/2-60,width:20,height:120,color:"#FFF",speed:5}},t}(),i=function(){function t(t){this.headingText=t}return t.prototype.createHeading=function(t){var e=document.createElement("h2");return e.innerHTML=t,e.style.position="absolute",e.style.top="6rem",e.style.color="#FFF",e.style.fontFamily="Monospace",e.style.textAlign="center",e},t.prototype.createStartGameHeading=function(t){var e=this.createHeading(t);document.body.appendChild(e),setInterval((function(){e.style.visibility="hidden"===e.style.visibility?"visible":"hidden"}),500)},t.prototype.removeStartGameHeading=function(){var t=document.querySelector("h2");if(t){var e=t.parentNode;e&&e.removeChild(t)}},t}(),a=function(){function a(a){this.scorePlayer1=0,this.scorePlayer2=0,this.gameStarted=!1,this.player1=new e,this.player2=new e,this.message=this.scorePlayer1.toString()+" : "+this.scorePlayer2.toString(),this.gameCanvas=a,this.ctx=this.gameCanvas.getContext("2d");var h=a.width/2,s=a.height/2;this.heading=new i(this.message),this.ball=new t(h,s),setInterval(this.gameLoop,1e3/60)}return a.prototype.gameLoop=function(){this.ball.moveBall(this.gameCanvas.height),this.ball.getPosition().x},a.prototype.checkPaddleHit=function(){this.ball.x<=this.player1.x+this.player1.width&&this.ball.y>=this.player1.y&&this.ball.y<=this.player1.y+this.player1.height?(this.ball.xSpeed*=-1.3,this.ball.ySpeed*=1.3):this.ball.x+this.ball.width+10>=this.player2.x&&this.ball.y>=this.player2.y&&this.ball.y<=this.player2.y+this.player2.height&&(this.ball.xSpeed*=-1,this.ball.ySpeed*=1),this.ball.x<=10+this.player1.width/2&&(this.scorePlayer2+=1,this.ball.resetBall(this.gameCanvas.height,this.gameCanvas.width)),this.ball.x>=this.gameCanvas.width-10-this.player2.width/2&&(this.scorePlayer1+=1,this.ball.resetBall(this.gameCanvas.height,this.gameCanvas.width))},a}(),h=document.getElementById("pongCanvas"),s=h.getContext("2d"),l=!1,n="press space to play!<br><br>controls: w + s / ↑ + ↓",r=new e,o=new e,y=new i(n);function d(){!function(){p(0,0,h.width,h.height,"#000"),p(this.player1.x,this.player1.y,this.player1.width,this.player1.height,this.player1.color),p(this.player2.x-this.player2.width,this.player2.y,this.player2.width,this.player2.height,this.player2.color),p(this.ball.x,this.ball.y,this.ball.width,this.ball.height,this.ball.color)}(),(void 0).moveBall(g.height),u.checkPaddleHit()}function p(t,e,i,a,h){s.fillStyle=h,s.fillRect(t,e,i,a)}r.createPlayer(10),o.createPlayer(h.width-10),y.createStartGameHeading(n),d(),setInterval(d,1e3/60),window.addEventListener("keydown",(function(t){if("Space"!==t.code||l||(y.removeStartGameHeading(),l=!0),l)switch(t.key){case"w":r.y>0&&(r.y-=r.speed);break;case"s":r.y<h.height-r.height&&(r.y+=r.speed);break;case"ArrowUp":o.y>0&&(o.y-=o.speed);break;case"ArrowDown":o.y<h.height-o.height&&(o.y+=o.speed)}}));var c,g=((c=document.createElement("canvas")).id="gameCanvas",c);document.body.appendChild(g);var u=new a(g)})();